[{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"load-data-and-package","dir":"Articles","previous_headings":"","what":"Load data and package","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"use pmc data,details see help(pmc).","code":"library(geosom)  data(pmc) head(pmc) ## # A tibble: 6 × 14 ##   centroidx centroidy denspop11 discapd gmm2011  podc tdesmp11 pbsst11 ne_sup ##       <dbl>     <dbl>     <dbl>   <dbl>   <dbl> <dbl>    <dbl>   <dbl>  <dbl> ## 1    -2126.   -26872.      55.0  49814.    970.  86.8     13.6   0.743  10.3  ## 2   -22225.   101936      142.   23220.    920.  85.2     10.1   0.329   9.73 ## 3    51047.   123750       26.5  32855.    692.  61.6      8.9   0.749   4.65 ## 4    65335.  -116583       10.8  46776.    765.  57.1     15.6   1.11    4.98 ## 5   -30628.   114637      159.   15458.    910.  80.2     10.4   0.301   9.52 ## 6    -8846.  -281339      290.   30102.    914. 103.      17.2   0.992  11.5  ## # ℹ 5 more variables: abanesc <dbl>, pdmcdt11 <dbl>, pdiv <dbl>, ## #   distpolall <dbl>, tcrmiltot <dbl>"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"determining-the-optimal-paramater-for-geosom","dir":"Articles","previous_headings":"","what":"Determining the optimal paramater for GeoSOM","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"","code":"set.seed(20220724) tictoc::tic() geosom_bestparam(data = pmc,                   coords = c(\"centroidx\",\"centroidy\"),                  wt = c(seq(0.1,1,by = 0.1),2:5),                  xdim = 4:10, ydim = 4:10,cores = 6) -> g_bestparam tictoc::toc() ## 59.37 sec elapsed g_bestparam ## $wt ## [1] 0.9 ##  ## $xdim ## [1] 4 ##  ## $ydim ## [1] 4 ##  ## $topo ## [1] \"rectangular\" ##  ## $neighbourhoodfct ## [1] \"gaussian\" ##  ## $err_quant ## [1] 9.439536 ##  ## $err_varratio ## [1] 21.05 ##  ## $err_topo ## [1] 0.5071942 ##  ## $err_kaski ## [1] 3.985932"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"build-geosom-model","dir":"Articles","previous_headings":"","what":"Build GeoSOM model","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"","code":"g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = .9,            grid = geosomgrid(4,4,topo = \"rectangular\",                              neighbourhood.fct = \"gaussian\"))"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"assessing-the-quality-of-the-map","dir":"Articles","previous_headings":"","what":"Assessing the quality of the map","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"geosom_quality() computes several measures help assess quality GeoSOM. Quantization error: Average squared distance data points map’s prototypes mapped. Lower better. Percentage explained variance: Similar clustering methods, share total variance explained clustering (equal 1 minus ratio quantization error total variance). Higher better. Topographic error: Measures well topographic structure data preserved map. computed share observations best-matching node neighbor second-best matching node map. Lower better: 0 indicates excellent topographic representation (best second-best matching nodes neighbors), 1 maximum error (best second-best nodes never neighbors). Kaski-Lagus error: Combines aspects quantization topographic error. sum mean distance points best-matching prototypes, mean geodesic distance (pairwise prototype distances following SOM grid) points second-best matching prototype.","code":"geosom_quality(g) ##  ## ## Quality measures: ##  * Quantization error     :  9.38318  ##  * (% explained variance) :  21.52  ##  * Topographic error      :  0.4856115  ##  * Kaski-Lagus error      :  4.034355  ##   ## ## Number of obs. per map cell: ##  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16  ##  8 15 16 27 15  9  7 21 32 13 10 20 31 22 18 14"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"superclasses-of-geosom","dir":"Articles","previous_headings":"","what":"Superclasses of GeoSOM","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"common cluster GeoSOM map superclasses, groups cells similar profiles. done using classic clustering algorithms map’s prototypes. Two methods implemented spEcula now, PAM (k-medians) hierarchical clustering. obtain R. example, choose 12 superclasses. return choice superclasses .","code":"g_superclass = geosom_superclass(g,12,method = 'pam') g_superclass ##  [1]  1  2  3  4  1  1  5  6  1  7  8  9 10 11 12  9"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"plotting-general-map-information","dir":"Articles","previous_headings":"","what":"Plotting general map information","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"geosom_plot() creates variety different interactive SOM visualizations. Using type argument function, one following types plots can created: Observations Cloud: visualize observations points inside cell.  Hitmap population map: visualizes number observation per cell. areas inner shapes proportional population. background colors indicate superclasses. palette colors can adapted using palsc argument.  UMatrix way explore topography map. shows average distance cell neighbors’ prototypes, color scale. map, darker cells close neighbors, brighter cells distant neighbors.","code":"geosom_plot(g, type = \"Cloud\", superclass = g_superclass) geosom_plot(g, type = \"Hitmap\", superclass = g_superclass) geosom_plot(g, type = \"UMatrix\", superclass = g_superclass)"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"plotting-numeric-variables-on-the-map","dir":"Articles","previous_headings":"","what":"Plotting numeric variables on the map","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"geosom_plot() offers several types plots numeric variables : circular barplot barplot boxplot radar plot lines plot color plot (heat map) plots, default means chosen variables displayed within cell. choices values (medians prototypes) can specified using values parameter. scales plots can also adapted, using scales argument. Colors variables controlled palvar argument.  following barplot, plot protoype values instead observations means.  following box--whisker plot, scales set accross variables.  following lines plot, use observation medians instead means.  following radar chart uses default parameters.  color plot, heat map, applies single numeric variable. superclass overlay can removed setting showSC parameter FALSE.  can save plot use htmlwidgets::saveWidget(),like:","code":"geosom_plot(g, type = \"Circular\", superclass = g_superclass) geosom_plot(g, type = \"Barplot\", superclass = g_superclass, values = \"prototypes\") geosom_plot(g, type = \"Boxplot\", superclass = g_superclass, scales = \"same\") geosom_plot(g, type = \"Line\", superclass = g_superclass, values = \"median\") geosom_plot(g, type = \"Radar\", superclass = g_superclass) geosom_plot(g, type = \"Color\", superclass = g_superclass)  ## Warning in aweSOM::aweSOMplot(som = gsom, type = type, data = gsom$data[[1]], : ## Color : Multiple variables provided, only the first one will be plotted. htmlwidgets::saveWidget(geosom_plot(g,type = \"Circular\",                                     superclass = g_superclass),                         './Circular.html')"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"choosing-the-number-of-superclasses","dir":"Articles","previous_headings":"","what":"Choosing the number of superclasses","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"","code":"geosom_bestsuperclass(g)"},{"path":"https://spatlyu.github.io/geosom/articles/Spatially-Aware-Self-Organizing-Maps.html","id":"get-and-viz-the-geosom-cluster-label","dir":"Articles","previous_headings":"","what":"Get and viz the geosom cluster label","title":"Spatially-Aware Self-Organizing Maps(GeoSOM) Model","text":"can also use mapview interactive view.","code":"g_label = geosom_clusterlabel(g,g_superclass) g_label ##   [1]  9  7  1  3  7  4  6  9  9  6  4  9  1  1  4  4  6  1  9  4  9  2  8  3  6 ##  [26] 11 10 12  8 10  1  1 11  3  2  9 12  5  9 11 10  3  6  9  4  1  6  9  3 10 ##  [51] 10  1 10  9  9 10  2 12  1  1  9  6  8  1 11  2  7  4  4  1 10  5  1 11 12 ##  [76] 12  9  5  1  2  3  2  9 11 10  7  3  3 10  4 10  4  8 12  1  8  1  1  2  1 ## [101]  2  1  9 11  1  6  1 10  1 12  4  4  1  9  6  4  6  9 12 11  2  1  9 11  1 ## [126]  1 11  9  2 11 12  1 10  4  1 12 12  1  1  1  1  6 10  4  1  2 10  5 12  6 ## [151]  5 12  3  3  1  7  9  1  2  9  4  6  6  1  4 11  7 12  1  9  4 11 11  6  1 ## [176] 11 10  8 12 11  1  1  1  8  9  1  1  8 10 10  5  2  3  4 11  9 10 10  2  3 ## [201]  3 11  1  9  1  1  9  1 11  1  9  4 10  4 11  1  7  9  1  1  6  1  4  8  6 ## [226]  6  7  4  4  6  9 12  5  1  1  1  4 10  9  7  1  9  9  1 10 12  7 10 11  1 ## [251]  6  3 10  3 10  8  4 10  1  6  9 10 10  1 11  7 12  1  1  4  2 10  3  1  1 ## [276]  7 10  7 library(sf) ## Linking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE library(ggplot2) library(dplyr) ##  ## Attaching package: 'dplyr' ## The following objects are masked from 'package:stats': ##  ##     filter, lag ## The following objects are masked from 'package:base': ##  ##     intersect, setdiff, setequal, union pmc %>%    mutate(zone = as.factor(g_label)) %>%    st_as_sf(coords = c(\"centroidx\",\"centroidy\")) %>%    ggplot() +   geom_sf(aes(col = zone),size = 1.25,shape = 17) +   scale_color_discrete(type = 'viridis') +   theme_bw() +   theme(axis.text = element_blank(),         axis.ticks = element_blank()) pmc %>%    mutate(zone = as.factor(g_label)) %>%    st_as_sf(coords = c(\"centroidx\",\"centroidy\")) %>%    mapview::mapview(zcol = \"zone\",cex = 5, legend = TRUE)"},{"path":"https://spatlyu.github.io/geosom/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Wenbo Lv. Author, maintainer.","code":""},{"path":"https://spatlyu.github.io/geosom/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lv W (2024). geosom: Spatially-Aware Self-Organizing Maps. R package version 0.0.0.9000, https://github.com/SpatLyu/geosom, https://spatlyu.github.io/geosom/.","code":"@Manual{,   title = {geosom: Spatially-Aware Self-Organizing Maps},   author = {Wenbo Lv},   year = {2024},   note = {R package version 0.0.0.9000, https://github.com/SpatLyu/geosom},   url = {https://spatlyu.github.io/geosom/}, }"},{"path":"https://spatlyu.github.io/geosom/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"geosom | Spatially-Aware Self-Organizing Maps\n","text":"can install development version geosom github:","code":"# install.packages(\"devtools\") devtools::install_github(\"SpatLyu/geosom\",build_vignettes = T,dep = T)"},{"path":"https://spatlyu.github.io/geosom/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"geosom | Spatially-Aware Self-Organizing Maps\n","text":"","code":"library(geosom) data(pmc)  set.seed(20220724) tictoc::tic() geosom_bestparam(data = pmc,                   coords = c(\"centroidx\",\"centroidy\"),                  wt = c(seq(0.1,1,by = 0.1),2:5),                  xdim = 4:10, ydim = 4:10,cores = 6) -> g_bestparam tictoc::toc() ## 53.59 sec elapsed g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = .9,            grid = geosomgrid(4,4,topo = \"rectangular\",                              neighbourhood.fct = \"gaussian\")) g_superclass = geosom_superclass(g,6,method = 'pam') g_superclass ##  [1] 1 2 2 2 3 1 2 2 3 3 4 5 3 4 4 6 g_label = geosom_clusterlabel(g,g_superclass) g_label ##   [1] 2 2 3 4 2 6 5 2 2 5 6 2 3 3 6 6 5 3 2 6 2 4 2 4 5 1 1 2 2 1 3 3 2 4 4 2 2 ##  [38] 4 2 2 1 4 5 2 6 3 5 2 4 1 1 3 1 2 2 1 4 2 3 1 2 5 2 3 2 4 1 6 6 3 1 2 3 2 ##  [75] 2 2 2 4 3 4 4 4 2 2 1 2 4 4 1 6 1 4 2 2 3 2 3 3 4 3 4 3 2 2 3 5 3 1 3 2 6 ## [112] 6 1 2 5 6 5 2 2 1 2 3 2 2 3 3 2 2 4 2 2 3 1 6 3 2 2 3 3 3 1 5 1 6 1 4 1 4 ## [149] 2 5 4 2 4 4 3 2 2 1 4 2 6 5 5 3 6 2 1 2 3 2 6 2 1 5 3 2 1 2 2 2 3 3 3 2 2 ## [186] 3 3 2 1 1 4 4 4 6 2 2 1 1 3 4 4 1 3 2 3 3 2 2 2 3 2 6 1 6 2 3 1 2 1 3 5 3 ## [223] 4 2 5 5 1 6 6 5 2 2 4 3 3 1 6 1 2 1 3 2 2 3 1 2 2 1 2 3 5 4 1 4 1 2 6 1 3 ## [260] 5 2 1 1 3 2 1 2 3 3 6 3 1 4 3 3 1 1 1 library(sf) library(dplyr) library(ggplot2)  pmc %>%    mutate(zone = as.factor(g_label)) %>%    st_as_sf(coords = c(\"centroidx\",\"centroidy\")) %>%    ggplot() +   geom_sf(aes(col = zone),size = 1.25,shape = 17) +   scale_color_discrete(type = 'viridis') +   theme_bw() +   theme(axis.text = element_blank(),         axis.ticks = element_blank())"},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"Implementation spatially-aware self-Organizing maps(GeoSOM) model model based kohonen::supersom().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"","code":"geosom(data, coords, wt, grid, normalize = TRUE, ...)"},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"data data.frame tibble coords coordinate column name data. wt weight spatial coordination weight non-spatial attribute 1. wt 0,now equal som model. grid grid codebook vectors: see geosomgrid. normalize (optional)Boolean, indicating whether non-spatial feature data normal standardization,default True. ... arguments passed kohonen::supersom(),see ?kohonen::supersom().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"object class \"kohonen\" components.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spatially-aware Self-Organizing Maps(GeoSOM) model — geosom","text":"","code":"data(pmc) set.seed(2004) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE)"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":null,"dir":"Reference","previous_headings":"","what":"Best param for geosom model — geosom_bestparam","title":"Best param for geosom model — geosom_bestparam","text":"Function determining best parameter geosom model","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Best param for geosom model — geosom_bestparam","text":"","code":"geosom_bestparam(   data,   coords,   wt,   xdim,   ydim,   topo = c(\"rectangular\", \"hexagonal\"),   neighbourhood.fct = c(\"bubble\", \"gaussian\"),   cores = 1,   ... )"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Best param for geosom model — geosom_bestparam","text":"data data.frame tibble coords coordinate column name data. wt weight vector spatial coordination. xdim X dimensions grid, numeric vector. ydim Y dimensions grid, numeric vector. topo (optional) Default use hexagonal rectangular. neighbourhood.fct (optional) Default use bubble gaussian neighbourhoods together training GeoSOM model. cores positive integer(default 1). cores > 1, 'parallel' package cluster many cores created used. can also supply cluster object. ... (optional) arguments passed geosom().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Best param for geosom model — geosom_bestparam","text":"list optimal parameter provided parameter combination corresponding error.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Best param for geosom model — geosom_bestparam","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestparam.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Best param for geosom model — geosom_bestparam","text":"","code":"if (FALSE) { data(pmc) set.seed(2004) geosom_bestparam(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = seq(0.1,5,by = 0.1),xdim = 3:10, ydim = 3:10,cores = 6) }"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestsuperclass.html","id":null,"dir":"Reference","previous_headings":"","what":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","title":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","text":"screeplot, helps deciding optimal number superclasses. Available PAM(pam) hierarchical clustering(hclust).","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestsuperclass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","text":"","code":"geosom_bestsuperclass(   gsom,   nclass = 2,   method = \"pam\",   hmethod = \"complete\",   bindcoord = FALSE )"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestsuperclass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","text":"gsom kohonen object, SOM created spEcula::geosom function. nclass number superclasses visualized screeplot. Default 2. method Method used clustering. Hierarchical clustering (\"hclust\") Partitioning around medoids (\"pam\") can used. Default Partitioning around medoids. hmethod hierarchicical clustering, clustering method, default \"complete\". See stats::hclust documentation details. bindcoord cluster superclass GeoSOM consider spatial coordination. Defaul FALSE.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestsuperclass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","text":"return value, called side effects.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_bestsuperclass.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Screeplot of GeoSOM superclasses — geosom_bestsuperclass","text":"","code":"if (FALSE) { data(pmc) set.seed(2004) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE) geosom_bestsuperclass(g) }"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":null,"dir":"Reference","previous_headings":"","what":"Cluster label of GeoSOM — geosom_clusterlabel","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"Get cluster label(result) GeoSOM model.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"","code":"geosom_clusterlabel(gsom, superclass)"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"gsom kohonen object,get geosom(). superclass numeric vector get form geosom_superclass()","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"numeric vector representing cluster label.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_clusterlabel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cluster label of GeoSOM — geosom_clusterlabel","text":"","code":"data(pmc) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE) g_superclass = geosom_superclass(g,12) g_label = geosom_clusterlabel(g,g_superclass) g_label #>   [1]  7 10  4  3  9  1  6  9  6  5  2  6  7  4  1  2  5  4  2  2  2  3 10  2  8 #>  [26] 11 10  9 10 10  7  4 11  2  2  8  9  3  6 11 12  3  5  9  2  4  6  6  3  4 #>  [51] 12  7 11  6  6 10  2  9  4  4  6  8 10  7 11  4 11  2  2  4 11  2  4 11  9 #>  [76]  9  7  2  4  4  2  3  9  5 12  9  3  2 11  1 11  2 10  9  7 10  4  7  3  4 #> [101]  3  7  9 12  4  2  4 11  7  9  1  1 11  9  8  1  8  6  9 11  7  7  8  5  4 #> [126]  4 11  9  4  5  9  7 10  2 11  9  9  7  7  7  4  5 10  1 11  3 11  6  9  6 #> [151]  2 10  3  3  4  9  6  4  7  6  1  8  8  7  1  5 10  9  4  9  1  5 12  5  7 #> [176] 12 10 10  9 12  4  4  4 10  6 11  4  9 10 10  3  2  3  1  5  9 11 12  7  3 #> [201]  3 11 11  6  4  4  6 10  5 11  9  2 11  1  5  4 11  7  4  4  5  4  3 10  5 #> [226]  5 10  1  1  8  8  9  3  4  4 11  1 11 10 10  7  9  6  7  5  9  5 10  5  4 #> [251]  6  2 10  3 11 10  1 12  7  6  9 10 12  7  5 11  9  4 11  1  7 10  3  7  4 #> [276] 11 11 10"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Interactive GeoSOM plots — geosom_plot","title":"Interactive GeoSOM plots — geosom_plot","text":"Plot interactive visualizations GeoSOM, html page. plot can represent general map informations, selected categorical numeric variables (necessarily ones used training). Hover map focus selected cell variable, display information.function wrapper aweSOM::aweSOMplot().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interactive GeoSOM plots — geosom_plot","text":"","code":"geosom_plot(gsom, type, superclass, ...)"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Interactive GeoSOM plots — geosom_plot","text":"gsom kohonen object,get geosom(). type Character, plot type. default \"Hitmap\" population map. \"Cloud\" plots observations scatterplot within cell (see Details). \"UMatrix\" plots average distance cell neighbors, color scale. \"Circular\" (barplot), \"Barplot\", \"Boxplot\", \"Radar\" \"Line\" numeric variables. \"Color\" (heat map) single numeric variable. \"Pie\" (pie chart) \"CatBarplot\" single categorical (factor) variable. superclass numeric vector get form geosom_superclass(). ... arguments passed aweSOM::aweSOMplot().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interactive GeoSOM plots — geosom_plot","text":"object class htmlwidget.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Interactive GeoSOM plots — geosom_plot","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Interactive GeoSOM plots — geosom_plot","text":"","code":"if (FALSE) { data(pmc) set.seed(2004) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE) g_superclass = geosom_superclass(g,12) geosom_plot(g,type = \"Circular\",superclass = g_superclass) }"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":null,"dir":"Reference","previous_headings":"","what":"GeoSOM quality measures — geosom_quality","title":"GeoSOM quality measures — geosom_quality","text":"Computes several quality measures trained GeoSOM.function wrapper aweSOM::somQuality().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GeoSOM quality measures — geosom_quality","text":"","code":"geosom_quality(gsom)"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GeoSOM quality measures — geosom_quality","text":"gsom kohonen object,get geosom().","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"GeoSOM quality measures — geosom_quality","text":"list containing quality measures : quantization error, share explained variance, topographic error Kaski-Lagus error.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"GeoSOM quality measures — geosom_quality","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_quality.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"GeoSOM quality measures — geosom_quality","text":"","code":"data(pmc) set.seed(2004) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE) geosom_quality(g) #>  #> ## Quality measures: #>  * Quantization error     :  6.549047  #>  * (% explained variance) :  45.23  #>  * Topographic error      :  0.7158273  #>  * Kaski-Lagus error      :  5.257759  #>   #> ## Number of obs. per map cell: #>  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  #>  4  8  7  4  4 14  6  3  3  3  4  5  4  3  3  3  2  7  3  2  4  2  5  5  4  3  #> 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  #>  4  4  4  5  5  3  5  4  1  3  8  5  4  4  3  4  8  4  3  3  5  5  6  6  6  5  #> 53 54 55 56 57 58 59 60  #>  5  3 10  5  7  4  5  7"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":null,"dir":"Reference","previous_headings":"","what":"Superclasses of GeoSOM — geosom_superclass","title":"Superclasses of GeoSOM — geosom_superclass","text":"common cluster GeoSOM map superclasses, groups cells similar profiles. done using classic clustering algorithms map’s prototypes.Remeber use non-spatial variable 1.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Superclasses of GeoSOM — geosom_superclass","text":"","code":"geosom_superclass(   gsom,   k,   method = \"pam\",   hmethod = \"complete\",   bindcoord = FALSE )"},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Superclasses of GeoSOM — geosom_superclass","text":"gsom kohonen object,get geosom(). k number superclasses. method (optional)clustering algorithms used map’s prototypes,two methods implemented spEcula, PAM(k-medians) hierarchical clustering.method pam,PAM (k-medians) used,otherwise hierarchical clustering.Default pam. hmethod hierarchicical clustering, clustering method, default \"complete\". See stats::hclust documentation details. bindcoord cluster superclass GeoSOM consider spatial coordination. Defaul FALSE.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Superclasses of GeoSOM — geosom_superclass","text":"numeric vector representing superclass.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Superclasses of GeoSOM — geosom_superclass","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosom_superclass.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Superclasses of GeoSOM — geosom_superclass","text":"","code":"data(pmc) set.seed(2004) g = geosom(data = pmc, coords = c(\"centroidx\",\"centroidy\"), wt = 3,grid = geosomgrid(6,10),normalize = TRUE) g_superclass = geosom_superclass(g,12) g_superclass #>  [1]  1  2  1  3  4  5  3  1  1  3  4  4  6  3  3  4  7  7  6  6  6  4  7  7  6 #> [26]  8  8  9  9  7  6  6  8  9  9  9  1  8  8 10 10  9 11 12 10 10 10  9 12 12 #> [51] 10 10  9  9  8 10 10 10  9  9"},{"path":"https://spatlyu.github.io/geosom/reference/geosomgrid.html","id":null,"dir":"Reference","previous_headings":"","what":"GeoSOM-grid related functions — geosomgrid","title":"GeoSOM-grid related functions — geosomgrid","text":"Set grid units, specified size topology.Wrapper kohonen::somgrid.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosomgrid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GeoSOM-grid related functions — geosomgrid","text":"","code":"geosomgrid(   xdim,   ydim,   topo = \"hexagonal\",   neighbourhood.fct = \"gaussian\",   toroidal = FALSE )"},{"path":"https://spatlyu.github.io/geosom/reference/geosomgrid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GeoSOM-grid related functions — geosomgrid","text":"xdim X dimensions grid ydim Y dimensions grid. topo (optional)Choose hexagonal rectangular topology,default hexagonal. neighbourhood.fct (optional)Choose bubble gaussian neighbourhoods training GeoSOM.\"bubble\" \"gaussian\"(default). toroidal (optional)Logical, whether grid toroidal .Default FALSE.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosomgrid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"GeoSOM-grid related functions — geosomgrid","text":"object class \"somgrid\", elements pts, input arguments function.","code":""},{"path":"https://spatlyu.github.io/geosom/reference/geosomgrid.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"GeoSOM-grid related functions — geosomgrid","text":"Wenbo Lv lyu.geosocial@gmail.com","code":""},{"path":"https://spatlyu.github.io/geosom/reference/pmc.html","id":null,"dir":"Reference","previous_headings":"","what":"Portugal municipal census data 2011 — pmc","title":"Portugal municipal census data 2011 — pmc","text":"2011 Portugal Census data contains centroid coordinates 12 selected socio-economic variables 278 municipalities Portugal.12 selected variables denspop11(Population density) discapd(Average distance closest district capital) gmm2011(Average monthly earnings) podc(Daily purchasing power per capita) tdesmp11(Unemployment rate) pbsdt11(Population receiving unemployment benefit) ne_sup(Population university degree completed) abanesc(Percentage school dropout) pdmcdt11(Expenses municipality cultural sports activities) pdiv(Percentage divorces) distpolall(Average distance closest police station) tcrmiltot(Criminality rate)","code":""},{"path":"https://spatlyu.github.io/geosom/reference/pmc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Portugal municipal census data 2011 — pmc","text":"","code":"pmc"},{"path":"https://spatlyu.github.io/geosom/reference/pmc.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Portugal municipal census data 2011 — pmc","text":"pmc: tibble 2011 Portugal Census data 278 rows 14 variables.","code":""}]
